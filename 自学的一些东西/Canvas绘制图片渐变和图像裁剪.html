<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>利用canvas绘制颜色渐变图形和图像裁剪</title>
  </head>

  <body onload="draw('canvas');">
    <h1>Canvas示例</h1>
    <canvas id="canvas" width="400" height="400"/>
    <script>
    /*  function draw(id){
	  var canvas=document.getElementById(id);
	  if(canvas==null)
	     return false;
	  var context=canvas.getContext('2d');
	  var g1=context.createLinearGradient(400,0,0,400,0,400);
	  g1.addColorStop(0.1,'rgb(255,255,0)');
	  g1.addColorStop(0.3,'rgb(255,0,255)');
	  g1.addColorStop(1,'rgb(0,255,255)');
	  context.fillStyle=g1;
	  context.fillRect(0,0,400,300);
	  var n=0;
	  var g2=context.createRadialGradient(250,250,0,250,250,300);
	  g2.addColorStop(0.1,'rgba(255,0,0,0.5)');
	  g2.addColorStop(0.7,'rgba(195,235,0,0.5)');
	  for(var i=0;i<10;i++){
	     context.beginPath();
		 context.fillStyle=g2;
		 context.arc(i*25,i*25,i*10,0,Math.PI*2,true);
		 context.closePath();
		 context.fill();
	  }
	}*/
	
	
	/*function draw(id){
	  var canvas=document.getElementById(id);
	  if(canvas==null)
	     return false;
	  var context=canvas.getContext('2d');
	  context.fillStyle="#eef";
	  context.fillRect(0,0,400,300);    //图形绘制
	  context.translate(200,50);
	  context.fillStyle='rgba(255,0,0,0.5)';
	  for(var i=0;i<50;i++){
	     context.translate(25,25);
		 context.scale(0.95,0.95);
		 context.rotate(Math.PI/10);
		 context.fillRect(0,0,100,50);
	  }
	}*/
	
	/*function draw(id){
	  var canvas=document.getElementById(id);
	  if(canvas==null)
	     return false;
	  var context=canvas.getContext('2d');
	  context.fillStyle="#eef";
	  context.fillRect(0,0,400,300);    //图形绘制
	  context.shadowOffsetX=10;     //阴影的横向位移量
	  context.shadowOffsetY=10;    //阴影的纵向位移量
	  context.shadowColor='rgba(200,0,80,0.5)';   //阴影的颜色
	  context.shadowBlur=7.5;     //阴影的模糊范围
	  context.translate(200,50);
	  for(var i=0;i<50;i++){
	     context.translate(25,25);
		 context.scale(0.95,0.95);
		 context.rotate(Math.PI/10);
		 create5Star(context);
		 context.fill();
	  }
	}
	function create5Star(context){
	   var n=0;
	   var dx=100;
	   var dy=0;
	   var s=50;
	   context.beginPath();
	   context.fillStyle='rgba(255,0,0,0.5)';
	   var x=Math.sin(0);
	   var y=Math.cos(0);
	   var dig=Math.PI/5*4;
	   for(var i=0;i<5;i++){
		  var x=Math.sin(i*dig);
		  var y=Math.cos(i*dig);
		  context.lineTo(dx+x*s,dy+y*s);
		}
		context.closePath();
	}*/
	
	
	
	function draw(id){
	   var canvas=document.getELementById(id);
	   if(canvas==null)
	     return false;
	   var context=canvas.getContext('2d');
	   var gr=context.createLinearGradient(0,400,300,0);
	   gr.addColorStop(0,'rgb(255,255,0)');
	   gr.addColorStop(1,'rgb(0,255,255)');
	   context.fillStyle=gr;
	   context.fillRect(0,0,400,300);
	   image=new image();
	   image.onload=function(){
	      drawImg(context,image);
	  };
	  image.src="blue.jpg";
	}
	function drawImg(context,image){
	   create5StarClip(context);
	   context.drawImage(image,-50,-150,300,300);
	}
	function create5StarClip(context){
	   var n=0;
	   var dx=100;
	   var dy=0;
	   var s=150;
	   context.beginPath();
	   context.translate(100,150);
	   var x=Math.sin(0);
	   var y=Math.cos(0);
	   var dig=Math.PI/5*4;
	   for(var i=0;i<5;i++){
	     var x=Math.sin(i*dig);
		 var y=Math.cos(i*dig);
		 context.lineTo(dx+x*s,dy+y*s);
	  }
	  context.clip();
   }
    </script>
  </body>
</html>
